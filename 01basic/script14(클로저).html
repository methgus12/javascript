<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <script>
        /*function fun1 () {
            var a=1;
        }a의 범위는 여기서 끝

        console.log(a);에러가남 
*/
        
        function method() {
            var a="안녕!";

        //     var result =function() {
        //         console.log(a);
        //     }
        //     return result;
        // }
        return function() {//js함수는 실행환경의 상태를 기억한다.
            return a;
        }
    }
    //클로저 -내부익명함수가 외부함수 method()의 값을 바꿀수 있는 (접근할수있는)키를 가지고 있다.
    //외부함수 밖에서 내부함수가 호출 되더라도 외부함수에있는 지역변수 a에 접근 가능한데,
    //이런 반한 함수를 클로저 라고함

        var b  = method();//method가 끝나는 시점에 a는제거 :지역변수라서
        console.log(b);
        console.log("외부함수 method에있는 지역변수값:" + b());//b 함수를 호출해서 a 에 접근


        //이런 클로저 함수를 이용해서 getter , setter 메서드로 활용가능!

    function test () {
        var _name ="private변수" //_는 private 변수라는것으로 의미
        console.log(_name);

        return function(name) {
            _name = name;
            return _name; 
        }
    }

    var setter = test() ; //private변수 라고 출력
    console.log (setter("이순신")); //test 값 변경  이순신 출력
    //즉 리턴의 결과 자체는 함수이고 외부에서 값을 전달 (결과값이변함 )





    </script>
    
</body>
</html>